<!DOCTYPE html>
<html lang="en" style="background-color:rgb(253, 189, 121)" > 
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 1: The WWW as a Rube Goldberg machine</title>
</head>
<body>
    <button role="button" id="initTrigger">The Rose Gallery</button>
    <section id="floralSection"></section>


    <script>
        const triggerButton = document.getElementById('initTrigger')
        const floralSection = document.getElementById('floralSection')
        

        const randomfloralURL = "https://www.therosegallery.co.uk/collections/floral-art"

        const fetchfloralData = () => {
            fetch(randomfloralURL)
                .then((response) =>  response.json() )
                .then((payload) => appendfloralData(payload))

        }

        const appendfloralData = (data) => {
            console.log(data)

            const floral = data.florals[0]
            const floralName = floral.strfloral
            const floralImg = floral.strfloralThumb

            const nameHeader = document.createElement('h3')
            nameHeader.innerText = "We had " + floralName
            floralSection.appendChild(nameHeader)

            const image = document.createElement('img')
            image.src = floralImg
            image.alt = "image of " + floralName
            floralSection.appendChild(image)

            const a = new Date(floral.dateModified)

         
        }

        triggerButton.addEventListener("click", fetchfloralData)
        
    </script>
</body>
</html>